---
phase: 08-ui-polish
plan: 04
type: execute
wave: 3
depends_on: ["08-02", "08-03"]
files_modified:
  - src/app/page.tsx
  - src/app/layout.tsx
  - src/components/layout/Header.tsx
  - src/components/layout/Footer.tsx
  - src/components/layout/MobileNav.tsx
autonomous: false

must_haves:
  truths:
    - "Landing page has hero section with headline, subheading, and CTA button"
    - "Landing page shows featured categories with links to browse pages"
    - "Landing page has 'how it works' section explaining the marketplace flow"
    - "Landing page reflects burgundy/warm visual identity"
    - "Application has a persistent header with navigation links"
    - "Header has responsive mobile navigation (hamburger menu)"
    - "Navigation distinguishes buyer and provider contexts"
    - "Application has a footer with basic links"
  artifacts:
    - path: "src/app/page.tsx"
      provides: "Full landing page with hero, categories, how-it-works sections"
      min_lines: 80
    - path: "src/components/layout/Header.tsx"
      provides: "Persistent navigation header with mobile menu"
      contains: "hamburger"
    - path: "src/components/layout/MobileNav.tsx"
      provides: "Mobile slide-out navigation"
      contains: "Bars3Icon"
    - path: "src/components/layout/Footer.tsx"
      provides: "Application footer"
      min_lines: 20
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/components/layout/Header.tsx"
      via: "Header component rendered in root layout"
      pattern: "import.*Header"
    - from: "src/components/layout/Header.tsx"
      to: "src/components/layout/MobileNav.tsx"
      via: "MobileNav rendered inside Header"
      pattern: "import.*MobileNav"
---

<objective>
Create the landing page, persistent header with mobile navigation, and footer. This is the final visual impression layer that ties the entire application together.

Purpose: Replaces the placeholder home page with a proper marketplace landing page and adds app-wide navigation that distinguishes buyer/provider contexts.
Output: Complete landing page, header with responsive mobile nav, and footer.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-ui-polish/08-RESEARCH.md
@.planning/phases/08-ui-polish/08-01-SUMMARY.md
@.planning/phases/08-ui-polish/08-02-SUMMARY.md
@.planning/phases/08-ui-polish/08-03-SUMMARY.md
@src/app/layout.tsx
@src/app/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Header, MobileNav, and Footer layout components</name>
  <files>
    src/components/layout/Header.tsx
    src/components/layout/MobileNav.tsx
    src/components/layout/Footer.tsx
    src/app/layout.tsx
  </files>
  <action>
    1. Create `src/components/layout/Header.tsx`:
       - Server component wrapper that reads session via `auth()` from `@/lib/auth`
       - Renders a `<header>` with `bg-white border-b border-gray-200 sticky top-0 z-50`
       - Inner container: `max-w-7xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between`
       - Left: Logo/brand link to "/" — text "Herafi" in `text-2xl font-bold text-burgundy-900`
       - Center (desktop, hidden on mobile `hidden md:flex`): Navigation links
         - "Browse" → `/gigs`
         - "Categories" → `/browse/plumbing` (or just `/gigs` with a dropdown — keep simple, link to `/gigs`)
         - Links: `text-gray-700 hover:text-burgundy-800 transition-colors duration-200 font-medium`
       - Right (desktop, hidden on mobile `hidden md:flex items-center gap-4`):
         - If NOT logged in: "Log In" link (`text-burgundy-800 font-medium`), "Sign Up" link (`bg-burgundy-800 text-white px-4 py-2 rounded-lg hover:bg-burgundy-700`)
         - If logged in: "Dashboard" link, "Messages" link (icon), user avatar/initial circle linking to profile
         - If logged in AND isProvider: "Provider Dashboard" link with distinct styling (`text-burgundy-700`)
       - Right (mobile): Render `<MobileNav />` (client component for toggle state)
       - Pass session data and user info as props to MobileNav

    2. Create `src/components/layout/MobileNav.tsx`:
       - 'use client' directive
       - Props: `isLoggedIn: boolean`, `isProvider: boolean`, `username?: string | null`
       - Uses `useState` for open/closed state
       - Toggle button: `md:hidden p-2` — `Bars3Icon` when closed, `XMarkIcon` when open (from @heroicons/react/24/outline, 6x6)
       - When open: Fixed overlay below header (`fixed inset-0 top-16 bg-cream-50 z-40`)
       - Navigation links in column: `flex flex-col p-4 space-y-1`
       - Each link: `px-4 py-3 text-burgundy-900 hover:bg-burgundy-50 rounded-lg transition-colors font-medium text-lg`
       - Links:
         - "Browse Services" → `/gigs`
         - If logged in: "Dashboard" → `/dashboard`
         - If logged in: "Messages" → `/messages`
         - If logged in: "My Orders" → `/orders`
         - If isProvider: "Provider Dashboard" → `/provider/dashboard` (with subtle burgundy background)
         - If logged in: "Edit Profile" → `/profile/edit`
         - Divider: `<hr className="border-gray-200 my-2" />`
         - If NOT logged in: "Log In" → `/login`, "Sign Up" → `/register`
         - If logged in: "Sign Out" button
       - Close menu when a link is clicked (use `onClick={() => setIsOpen(false)}` on each Link)
       - Use `usePathname()` from `next/navigation` to highlight active link with `bg-burgundy-50 text-burgundy-800`

    3. Create `src/components/layout/Footer.tsx`:
       - Simple footer: `bg-white border-t border-gray-200 mt-auto`
       - Container: `max-w-7xl mx-auto px-4 sm:px-6 py-8`
       - Layout: `flex flex-col sm:flex-row justify-between items-center gap-4`
       - Left: "Herafi" brand text + copyright `text-sm text-gray-500`
       - Right: Links row: "Browse" → `/gigs`, "About" (can link to #), "Contact" (can link to #)
       - Links: `text-sm text-gray-600 hover:text-burgundy-800 transition-colors`

    4. Update `src/app/layout.tsx`:
       - Import and render `<Header />` inside `<body>` before `{children}`
       - Import and render `<Footer />` after `{children}` but before `<Toaster />`
       - Wrap children area in `<main className="flex-grow">{children}</main>`
       - Add `className="flex flex-col min-h-screen"` to `<body>` for sticky footer pattern
       - Keep SessionProvider and Toaster as-is
  </action>
  <verify>
    - `npm run build` passes
    - `src/components/layout/Header.tsx` exists and imports auth
    - `src/components/layout/MobileNav.tsx` exists with 'use client'
    - `src/components/layout/Footer.tsx` exists
    - `src/app/layout.tsx` renders Header and Footer
  </verify>
  <done>Persistent header with desktop nav and mobile hamburger menu. Footer with brand and links. Both rendered in root layout. Navigation distinguishes logged-in/logged-out and buyer/provider contexts.</done>
</task>

<task type="auto">
  <name>Task 2: Build the landing page</name>
  <files>
    src/app/page.tsx
  </files>
  <action>
    Replace the placeholder home page with a full landing page. This is a server component that can query the database for featured content.

    **Page structure (top to bottom):**

    1. **Hero Section:**
       - Full-width section: `bg-cream-50 py-16 sm:py-24 px-4`
       - Container: `max-w-6xl mx-auto text-center`
       - Headline: `text-4xl sm:text-5xl md:text-6xl font-bold text-burgundy-900 mb-6 leading-tight`
         Text: "Find Skilled Craftsmen You Can Trust"
       - Subheading: `text-lg sm:text-xl text-gray-600 mb-8 max-w-2xl mx-auto`
         Text: "Connect with experienced professionals for plumbing, painting, carpentry, and more. Browse portfolios, read reviews, and hire with confidence."
       - CTA button: Link to `/gigs` — `inline-block px-8 py-4 bg-burgundy-800 text-white rounded-xl text-lg font-semibold hover:bg-burgundy-700 shadow-card hover:shadow-card-hover transition-all duration-200`
         Text: "Browse Services"
       - Trust signals row below CTA (`mt-10 flex flex-col sm:flex-row justify-center gap-6 sm:gap-8 text-sm text-gray-600`):
         - Icon (CheckBadgeIcon from @heroicons/react/24/outline, w-5 h-5 text-burgundy-600) + "Verified Providers"
         - Icon (ShieldCheckIcon) + "Secure Transactions"
         - Icon (StarIcon) + "Rated & Reviewed"

    2. **Featured Categories Section:**
       - Section: `py-16 sm:py-20 px-4 bg-white`
       - Container: `max-w-6xl mx-auto`
       - Heading: `text-2xl sm:text-3xl font-bold text-burgundy-900 text-center mb-10`
         Text: "Popular Categories"
       - Grid: `grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6`
       - Category cards (use a subset of CATEGORY_LABELS from GigForm — 8 most relevant):
         - Plumbing, Painting, Cleaning, Carpentry, Welding, Car Washing, Electrical, Digital Services
         - Each card: Link to `/browse/{category-slug}`
         - Style: `bg-cream-50 rounded-xl p-6 text-center hover:shadow-card hover:bg-burgundy-50 transition-all duration-200 border border-transparent hover:border-burgundy-200`
         - Category icon: Use an appropriate Heroicon for each (WrenchScrewdriverIcon for plumbing, PaintBrushIcon for painting, SparklesIcon for cleaning, etc.) — `w-10 h-10 mx-auto text-burgundy-700 mb-3`
         - Category name: `font-semibold text-burgundy-900`

    3. **How It Works Section:**
       - Section: `py-16 sm:py-20 px-4 bg-cream-50`
       - Container: `max-w-6xl mx-auto`
       - Heading: `text-2xl sm:text-3xl font-bold text-burgundy-900 text-center mb-12`
         Text: "How It Works"
       - Three-step layout: `grid grid-cols-1 md:grid-cols-3 gap-8 sm:gap-10`
       - Each step:
         - Step number circle: `w-12 h-12 rounded-full bg-burgundy-800 text-white flex items-center justify-center text-xl font-bold mx-auto mb-4`
         - Title: `text-xl font-semibold text-burgundy-900 mb-2 text-center`
         - Description: `text-gray-600 text-center`
       - Steps:
         1. "Browse Services" — "Explore hundreds of services from verified providers. Filter by category, price, and ratings."
         2. "Place an Order" — "Choose a pricing tier that fits your needs. Communicate directly with your provider."
         3. "Get It Done" — "Track your order from start to finish. Leave a review when complete."

    4. **CTA Section (bottom):**
       - Section: `py-16 sm:py-20 px-4 bg-burgundy-900`
       - Container: `max-w-4xl mx-auto text-center`
       - Heading: `text-2xl sm:text-3xl font-bold text-white mb-4`
         Text: "Ready to Get Started?"
       - Subheading: `text-burgundy-200 mb-8 text-lg`
         Text: "Join Herafi today — browse services or start offering your own."
       - Two buttons side by side: `flex flex-col sm:flex-row gap-4 justify-center`
         - "Browse Services" → `/gigs`: `px-8 py-3 bg-white text-burgundy-900 rounded-xl font-semibold hover:bg-cream-50 transition-colors`
         - "Become a Provider" → `/register`: `px-8 py-3 border-2 border-white text-white rounded-xl font-semibold hover:bg-burgundy-800 transition-colors`

    **Import icons at top:** Import all needed Heroicons from `@heroicons/react/24/outline`.

    **Category-to-slug mapping:** Define a local array of category objects with name, slug, and icon for the Featured Categories section. Use the existing category slugs from browse routes (e.g., "plumbing", "painting", etc.).
  </action>
  <verify>
    - `npm run build` passes
    - `src/app/page.tsx` contains hero section, categories grid, how-it-works section, and CTA section
    - Page uses burgundy-900, burgundy-800, cream-50 throughout
    - All links point to valid routes (/gigs, /browse/*, /register)
  </verify>
  <done>Landing page complete with hero (headline + CTA + trust signals), featured categories grid linking to browse, how-it-works 3-step section, and bottom CTA. Fully burgundy-themed and responsive.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete UI polish: burgundy design system, landing page, persistent header with mobile nav, footer, toast notifications, loading states, and responsive layouts across the entire application.
  </what-built>
  <how-to-verify>
    1. Visit http://localhost:3000 — verify landing page loads with burgundy hero, categories, how-it-works, CTA
    2. Verify header has logo, navigation links, and mobile hamburger menu (resize browser)
    3. Click "Browse Services" — verify gig listing page has cream background, burgundy cards
    4. Navigate to login/register — verify burgundy theming
    5. Log in and check dashboard — verify burgundy cards, no orange/amber anywhere
    6. Test a form submission (profile edit) — verify toast notification appears
    7. Check responsive behavior on mobile viewport (320px-768px) — verify stacked layouts, hamburger nav
    8. Check any not-found page (/gigs/nonexistent) — verify EmptyState component
    9. Overall impression: warm, inviting, burgundy-dominant, NOT template-looking
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues</resume-signal>
</task>

</tasks>

<verification>
- `npm run build` succeeds
- Landing page renders with all four sections
- Header appears on all pages with responsive mobile menu
- Footer appears on all pages
- Navigation distinguishes buyer vs provider context
- No orange/amber classes remain anywhere in the application
- Application feels warm and polished
</verification>

<success_criteria>
Application has a compelling landing page, persistent navigation with mobile support, and a cohesive footer. The entire UI uses burgundy theming consistently and feels warm, approachable, and hand-crafted.
</success_criteria>

<output>
After completion, create `.planning/phases/08-ui-polish/08-04-SUMMARY.md`
</output>
