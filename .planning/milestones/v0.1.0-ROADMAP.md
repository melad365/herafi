# Milestone v0.1.0: Alpha Release

**Status:** ✅ SHIPPED 2026-02-22
**Phases:** 1-8
**Total Plans:** 26

## Overview

Initial alpha release delivering a complete Fiverr-style marketplace for in-person and digital services. Full authentication, user profiles, service listings with search/discovery, order flow with mock payments, real-time messaging, reviews/ratings, provider dashboard, and polished burgundy-themed UI.

## Phases

### Phase 1: Foundation & Authentication

**Goal**: Users can securely create accounts and authenticate
**Depends on**: Nothing (first phase)
**Plans**: 3 plans

Plans:

- [x] 01-01: Project setup, dependencies, Prisma schema
- [x] 01-02: Auth.js config, validation schemas, server actions
- [x] 01-03: Auth UI pages, middleware, route protection

**Details:**
- JWT-based authentication with Auth.js v5
- Email/password credentials provider
- Middleware route protection with defense-in-depth pattern
- Session persistence (30-day expiration)
- Warm orange/amber color scheme (later updated to burgundy in Phase 8)
- PostgreSQL database integration with Prisma v7

### Phase 2: User Profiles

**Goal**: Users can establish identity and showcase provider credentials
**Depends on**: Phase 1
**Plans**: 4 plans

Plans:

- [x] 02-01: Schema extensions, dependencies, upload utils, validation schemas
- [x] 02-02: Server actions, profile edit page, avatar crop modal
- [x] 02-03: Public profile page, display components, portfolio carousel
- [x] 02-04: Become a provider flow, dashboard updates, middleware

**Details:**
- Username-based public profiles (/u/[username])
- Avatar uploads with circle crop functionality
- Portfolio image uploads (6-image limit)
- Skills and certifications as comma-separated arrays
- Intentional provider onboarding at /provider/setup
- Username prerequisite for becoming a provider
- Dashboard transformed into navigation hub
- Local filesystem uploads to /public/uploads/

### Phase 3: Service Listings & Discovery

**Goal**: Users can create, browse, and search service offerings
**Depends on**: Phase 2
**Plans**: 5 plans

Plans:

- [x] 03-01: Database schema (Gig model, Category enum), validation schemas, slug utility, search builder
- [x] 03-02: Gig CRUD server actions, create/edit forms, image upload
- [x] 03-03: Browse/search pages, filter components, category browse, pagination
- [x] 03-04: Gig detail page, image gallery, pricing tier cards, provider sidebar, dashboard update
- [x] 03-05: Gap closure: fix pricing tier validation, add image upload component

**Details:**
- JSONB pricing tiers (Basic/Standard/Premium with optional higher tiers)
- 13-category taxonomy (Plumbing, Painting, Cleaning, Carpentry, Welding, Car Washing, Electrical, Digital, etc.)
- PostgreSQL full-text search on title and description
- URL search params as single source of truth for filters
- 6-char random slug suffix for collision prevention
- Responsive grid layouts (1-4 columns based on screen size)
- Two-step gig creation flow (create → redirect to edit for image uploads)

### Phase 4: Order Flow

**Goal**: Users can place and track orders with mock payment processing
**Depends on**: Phase 3
**Plans**: 3 plans

Plans:

- [x] 04-01: Order model, state machine, validation schemas
- [x] 04-02: Order server actions (place, accept, start, complete, cancel)
- [x] 04-03: Order UI pages (placement, list, detail) and dashboard integration

**Details:**
- Five-state order lifecycle: PENDING → ACCEPTED → IN_PROGRESS → COMPLETED / CANCELLED
- Mock payment auto-approval (paymentConfirmed defaults true)
- Pricing snapshot preserved at order creation for historical accuracy
- State machine validation with transition guards
- Provider-only state transitions (except cancel, which both parties can trigger)
- Self-ordering prevention at action and UI layers

### Phase 5: Real-Time Messaging

**Goal**: Users can communicate in real-time via chat
**Depends on**: Phase 4
**Plans**: 3 plans

Plans:

- [x] 05-01: Database schema, Socket.IO custom server, JWT auth middleware, client socket utilities
- [x] 05-02: Socket message/presence handlers, conversation REST API endpoints
- [x] 05-03: Chat UI pages, message components, entry points on profiles/gigs

**Details:**
- Custom Next.js server with Socket.IO on same HTTP port
- JWT verification for socket authentication (matches Auth.js secret)
- participantIds as sorted array for efficient two-party lookup
- Typing indicators with volatile emit (not queued)
- In-memory presence tracking with multi-device support
- Auto-read on message fetch
- Cursor-based pagination for message history
- Message entry points from provider profiles and gig pages

### Phase 6: Reviews & Ratings

**Goal**: Users can provide and view verified feedback on completed services
**Depends on**: Phase 5
**Plans**: 2 plans

Plans:

- [x] 06-01: Review model, validation schema, submitReview server action
- [x] 06-02: Review UI components, integration into gig/profile/order pages

**Details:**
- One review per buyer per order (@@unique constraint)
- Only buyers of COMPLETED orders can review (verified purchase)
- Aggregate ratings denormalized (averageRating/totalReviews on User and Gig)
- Transactional aggregate updates via prisma.$transaction
- Fractional star ratings via CSS gradient (background-clip: text)
- Conditional review sections on provider profiles

### Phase 7: Provider Dashboard

**Goal**: Providers have dedicated tools to manage their services and orders
**Depends on**: Phase 6
**Plans**: 2 plans

Plans:

- [x] 07-01: Provider dashboard page with tabs, GigsTab, OrdersTab, stats header
- [x] 07-02: MessagesTab, buyer/provider navigation links

**Details:**
- URL-based tabs for bookmarkable state (?tab=gigs)
- Promise.all parallel queries for performance
- Completed orders limited to 10 for performance
- Messages tab shows max 10 recent conversations
- Orange gradient for provider dashboard card (updated to burgundy in Phase 8)
- Provider card positioned first in navigation grid

### Phase 8: UI Polish

**Goal**: Application delivers warm, polished, responsive user experience
**Depends on**: Phase 7
**Plans**: 4 plans

Plans:

- [x] 08-01: Design system foundation: Tailwind burgundy config, Sonner toasts, UI primitives (Button, Skeleton, EmptyState)
- [x] 08-02: Retheme auth, dashboards, and forms to burgundy; add toast/loading feedback
- [x] 08-03: Retheme all remaining components and pages; add order action toasts
- [x] 08-04: Landing page, persistent header with mobile nav, footer

**Details:**
- Burgundy as primary color replacing orange/amber (trust and craftsmanship)
- Warm cream background (#fdfaf7) for reduced eye strain
- Custom shadow scale (soft/card/card-hover) for consistent elevation
- Sonner toast notifications (lightweight, accessible)
- Landing page with hero search, category grid, how-it-works, bottom CTA
- Persistent sticky header (z-50) with mobile hamburger menu
- Footer with 4-column layout collapsing to single column on mobile
- forwardRef pattern for Button component (accessibility)

---

## Milestone Summary

**Key Decisions:**

- Single user type (buyer + provider) — Simplifies auth, mirrors real behavior
- Fiverr-style gigs with tiers — Proven model, clear structure for services
- Mock payments for MVP — Full order flow without payment integration complexity
- Real-time chat over simple inbox — Better UX for service negotiation
- Email/password only — Sufficient for MVP, OAuth deferred
- Prisma v7 with PostgreSQL adapter — Requires @prisma/adapter-pg for client initialization
- JWT sessions for Credentials provider — Simpler than database sessions, 30-day maxAge
- Burgundy design system — Conveys trust and craftsmanship for service marketplace

**Issues Resolved:**

- PostgreSQL connection issue during Phase 1 (installed locally, configured .env)
- Pricing tier null validation error in Phase 3 (nullish coalescing fix)
- Landing page visual interest in Phase 8 (redesigned to two-column hero layout)
- Stale dev server cache during Phase 8 verification (cleared .next/)

**Technical Debt Incurred:**

- Mock payment system needs replacement with real payment provider (Stripe) in future version
- Local filesystem uploads should migrate to cloud storage (S3, Cloudinary) for production
- Email notifications not implemented (deferred to v2)
- OAuth login not implemented (deferred to v2)

---

_For current project status, see .planning/ROADMAP.md (created for next milestone)_
